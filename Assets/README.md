# 🎮 关卡编辑器 Unity包

## 📋 功能概述

这是一个功能完整的Unity关卡编辑器，支持：
- **可视化关卡编辑**：拖拽式编辑界面
- **多层级管理**：支持多个层级组织关卡元素
- **形状系统**：圆形、矩形、三角形、菱形等多种形状
- **球体系统**：红球、蓝球、绿球等多种球体
- **配置管理**：可自定义形状和球体类型
- **关卡管理**：导入、导出、重命名关卡文件
- **数据持久化**：JSON格式保存关卡数据

## 🚀 快速开始

### 1. 安装包
1. 将 `.unitypackage` 文件导入到Unity项目中
2. 等待导入完成

### 2. 一键配置
1. 在Unity菜单栏点击：`Tools → Level Editor → 一键配置`
2. 等待自动配置完成
3. 编辑器界面会自动创建

### 3. 开始编辑
1. 使用左侧面板添加层级
2. 使用工具栏添加形状和球体
3. 拖拽调整位置和旋转
4. 点击"导出JSON"保存关卡

## 🎯 主要功能

### 📝 编辑器界面
- **左侧面板**：层级管理
- **中间区域**：可视化编辑区
- **右侧面板**：属性编辑

### 🎨 配置编辑器
- 路径：`Tools → Level Editor → 配置编辑器`
- 功能：自定义形状类型、球体类型
- 支持：保存/加载配置到 `Assets/config` 目录

### 📁 关卡管理
- 路径：`Tools → Level Editor → 关卡管理`
- 功能：浏览、加载、重命名关卡文件
- 位置：`/Assets/SavedLevels` 目录

### 📦 包导出
- 路径：`Tools → Level Editor → 导出Unity包`
- 功能：将编辑器打包成 `.unitypackage` 文件

## 📊 数据格式

### 关卡数据结构
```json
{
  "levelName": "关卡名称",
  "layers": [
    {
      "layerName": "层级名称",
      "shapes": [
        {
          "shapeType": "形状类型",
          "position": {"x": 100, "y": 50},
          "rotation": 45.0,
          "balls": [
            {
              "ballType": "球体类型",
              "position": {"x": 10, "y": 5}
            }
          ]
        }
      ]
    }
  ]
}
```

## 🔧 技术特性

- **ScriptableObject配置**：使用ScriptableObject管理编辑器配置
- **JSON序列化**：使用JsonUtility进行数据序列化
- **UI自动生成**：动态创建编辑器UI界面
- **拖拽交互**：支持拖拽移动和选择
- **配置持久化**：配置可保存到外部文件

## 📁 文件结构

```
Assets/
├── script/                    # 核心脚本
│   ├── Editor/               # 编辑器脚本
│   ├── LevelEditorUI.cs      # UI控制器
│   ├── LevelEditorConfig.cs  # 配置管理
│   └── ...
├── Scenes/                   # 示例场景
├── Prefabs/                  # UI预制体
├── Textures/                 # 纹理资源
│   ├── ball/                 # 球体纹理
│   ├── cicle/                # 圆形纹理
│   ├── pieces/               # 形状纹理
│   └── pop_next/             # UI纹理
├── config/                   # 配置文件目录
└── SavedLevels/              # 关卡文件目录
```

## 🎮 使用流程

1. **配置编辑器**：自定义形状和球体类型
2. **创建关卡**：使用编辑器创建关卡内容
3. **保存关卡**：导出为JSON文件
4. **管理关卡**：使用关卡管理工具
5. **分享关卡**：将JSON文件分享给其他用户

## 🔄 版本历史

- **v1.0.0**：基础关卡编辑器功能
  - 可视化编辑界面
  - 多层级管理
  - 形状和球体系统
  - 配置管理
  - 关卡导入导出
  - 关卡管理工具

## 📞 支持

如有问题或建议，请查看项目文档或联系开发者。

---

**享受创建关卡的乐趣！** 🎉 